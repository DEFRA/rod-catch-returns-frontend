{% extends "layout.html" %}

{% from "back-link/macro.njk" import govukBackLink %}
{% from "input/macro.njk" import govukInput %}
{% from "button/macro.njk" import govukButton %}
{% from "fieldset/macro.njk" import govukFieldset %}
{% from "details/macro.njk" import govukDetails %}
{% from "error-summary/macro.njk" import govukErrorSummary %}
{% from "navigation.njk" import navigationHeaderBlock %}

{% block pageTitle %}Enter your licence details and postcode - GOV.UK{% endblock %}

{% set licenceErrorMessage = null %}
{% set postcodeErrorMessage = null %}

{% block header %}
    {% if fmt %}
        {{ navigationHeaderBlock() }}
    {% else %}
        {{ super() }}
    {% endif %}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form method="post">

            {% if errors %}
                {% set licenceErrorMessage = 'Enter the last 6 digits of your licence number' %}
                {% set postcodeErrorMessage = 'Enter the postcode with which you applied for your licence' %}
                {{ govukErrorSummary({
                    titleText: "There is a problem",
                    errorList: [
                        {
                            text: "You have not entered a correct licence number and postcode",
                            href: "#licence"
                        }
                    ]
                }) }}
            {% endif %}

            <h1 class="govuk-heading-l">
                Enter your licence details and postcode
            </h1>

            {% call govukFieldset({}) %}

                {{ govukInput({
                    label: {
                        text: "Last 6 characters of your licence number"
                    },
                    hint: {
                        text: "For example, B7A718"
                    },
                    id: "licence",
                    name: "licence",
                    errorMessage: licenceErrorMessage,
                    classes: "govuk-input govuk-!-width-one-quarter" })
                }}

                {{ govukInput({
                    label: {
                        text: "Postcode"
                    },
                    hint: {
                        text: "For example, WA4 8HT"
                    },
                    id: "postcode",
                    name: "postcode",
                    errorMessage: postcodeErrorMessage,
                    classes: "govuk-input govuk-!-width-one-quarter" })
                }}

                <p class="govuk-body-m">
                    When you use this service, we will collect personal information such as your fishing activity. <a href="/privacy" class="govuk-link" target="_blank">Read about how we use your personal information</a>.
                </p>

                {{ govukButton({
                    name: "continue",
                    text: "Continue" })
                }}

                {{ govukDetails({
                    summaryText: "Where can I find my licence number?",
                    html: "<p>Your licence number is printed on any correspondence from us. If you cannot find it, call us on <a href=\"tel:03708506506\">03708 506 506</a> (open 8am to 6pm, Monday to Friday) or email us at: <a href=\"mailto:enquiries@environment-agency.gov.uk\">enquiries@environment-agency.gov.uk</a></p>"
                }) }}

            {% endcall %}
            {{ extra() }}
        </form>

    </div>
</div>
{% endblock %}
